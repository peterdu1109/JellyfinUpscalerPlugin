<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Plugin de Sur√©chantillonnage IA 1.6</title>
    <style>
        .upscaler-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5em;
            border-radius: 8px;
            margin-bottom: 2em;
            text-align: center;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5em;
            margin: 2em 0;
        }
        .feature-card {
            background: var(--theme-card-bg, #f8f9fa);
            border: 1px solid var(--theme-card-border, #dee2e6);
            border-radius: 8px;
            padding: 1.5em;
        }
        .feature-card h3 {
            margin-top: 0;
            color: var(--theme-primary-color, #007bff);
        }
        .console-container {
            background: #1e1e1e;
            border-radius: 8px;
            margin: 1em 0;
            overflow: hidden;
        }
        .console-header {
            background: #333;
            color: white;
            padding: 0.5em 1em;
            font-weight: bold;
        }
        .console-output {
            background: #1e1e1e;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            padding: 1em;
            height: 200px;
            overflow-y: auto;
            font-size: 12px;
        }
        .status-indicator {
            display: inline-block;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }
        .status-active { background-color: #28a745; }
        .status-warning { background-color: #ffc107; }
        .status-error { background-color: #dc3545; }
    </style>
</head>

<body>
    <!-- Load sidebar integration -->
    <script src="sidebar-upscaler.js"></script>
    <div class="content-primary">
        
        <!-- Header Section -->
        <div class="upscaler-header">
            <h1>Plugin de Sur√©chantillonnage IA 1.6</h1>
            <p>Benchmarking Mat√©riel & Optimisation Intelligente</p>
            <div>
                <span class="status-indicator status-active"></span>
                <span>Plugin Actif - Version 1.6.0</span>
            </div>
        </div>

        <!-- Quick Status Dashboard -->
        <div class="feature-grid">
            <div class="feature-card">
                <h3>üî¨ √âtat du Mat√©riel</h3>
                <div id="hardwareStatusInfo">
                    <div><strong>CPU:</strong> <span id="cpuStatus">D√©tection...</span></div>
                    <div><strong>GPU:</strong> <span id="gpuStatus">D√©tection...</span></div>
                    <div><strong>Performance:</strong> <span id="perfStatus">Surveillance...</span></div>
                </div>
            </div>
            <div class="feature-card">
                <h3>‚ö° M√©triques de Performance</h3>
                <div id="performanceMetrics">
                    <div><strong>FPS:</strong> <span id="currentFPS">--</span></div>
                    <div><strong>Utilisation CPU:</strong> <span id="currentCPU">--</span></div>
                    <div><strong>Taille Cache:</strong> <span id="currentCache">--</span></div>
                </div>
            </div>
        </div>

        <!-- Console Section -->
        <div class="verticalSection">
            <h2 class="sectionTitle">üñ•Ô∏è Console de Benchmark</h2>
            <div class="console-container">
                <div class="console-header">
                    Plugin Sur√©chantillonnage IA - Console en Direct
                    <button type="button" class="raised" style="float: right; margin: -2px 0;" id="clearConsoleBtn">Effacer</button>
                </div>
                <div class="console-output" id="liveConsole">
                    <div>Plugin de Sur√©chantillonnage IA v1.6.0 initialis√©</div>
                    <div>D√©but de la d√©tection mat√©rielle...</div>
                    <div>Pr√™t pour les commandes</div>
                </div>
            </div>
            <div style="margin-top: 1em;">
                <input type="text" class="emby-input" id="consoleInput" placeholder="Entrez une commande: benchmark, optimize, status, help" style="width: 70%; margin-right: 1em;">
                <button type="button" class="raised button-submit" id="executeCmd">Ex√©cuter</button>
            </div>
        </div>

        <form class="AIUpscalerConfigForm">
            
            <!-- Basic Settings -->
            <div class="verticalSection">
                <h3 class="sectionTitle">Param√®tres de Base</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnablePlugin">Activer le Sur√©chantillonnage IA:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnablePlugin" checked />
                    <div class="fieldDescription">Active le sur√©chantillonnage vid√©o IA en temps r√©el pour toutes les lectures.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="DefaultProfile">Profil par D√©faut:</label>
                    <select is="emby-select" id="DefaultProfile" class="emby-select-withcolor emby-select">
                        <option value="auto">Auto (Recommand√©)</option>
                        <option value="quality">Haute Qualit√©</option>
                        <option value="balanced">√âquilibr√©</option>
                        <option value="performance">Performance</option>
                        <option value="light">Mode L√©ger</option>
                    </select>
                    <div class="fieldDescription">Choisissez le profil de sur√©chantillonnage par d√©faut. Le mode Auto s√©lectionne la meilleure option selon votre mat√©riel.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="ScaleFactor">Facteur d'√âchelle:</label>
                    <select is="emby-select" id="ScaleFactor" class="emby-select-withcolor emby-select">
                        <option value="1.5">1.5x</option>
                        <option value="2.0" selected>2.0x (Recommand√©)</option>
                        <option value="2.5">2.5x</option>
                        <option value="3.0">3.0x</option>
                        <option value="4.0">4.0x</option>
                    </select>
                    <div class="fieldDescription">Des valeurs plus √©lev√©es offrent une meilleure qualit√© mais n√©cessitent plus de puissance de calcul.</div>
                </div>
            </div>
            
            <!-- Enterprise Features -->
            <div class="verticalSection">
                <h3 class="sectionTitle">üîã Syst√®me Mode L√©ger</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableLightMode">Mode L√©ger Auto:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableLightMode" checked />
                    <div class="fieldDescription">Active automatiquement le Mode L√©ger pour les syst√®mes avec <8Go RAM ou sans GPU d√©di√©.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="ThermalThrottling">Protection Thermique:</label>
                    <input type="checkbox" is="emby-checkbox" id="ThermalThrottling" checked />
                    <div class="fieldDescription">R√©duit automatiquement l'intensit√© du traitement quand la temp√©rature GPU d√©passe 85¬∞C.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="BatteryOptimization">Optimisation Batterie:</label>
                    <input type="checkbox" is="emby-checkbox" id="BatteryOptimization" checked />
                    <div class="fieldDescription">Optimise pour les appareils sur batterie comme les ordinateurs portables et tablettes.</div>
                </div>
            </div>
            
            <div class="verticalSection">
                <h3 class="sectionTitle">ü§ñ Gestionnaire de Mod√®les IA</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="AutoModelDownload">T√©l√©chargement Auto des Mod√®les:</label>
                    <input type="checkbox" is="emby-checkbox" id="AutoModelDownload" checked />
                    <div class="fieldDescription">T√©l√©charge et installe automatiquement les mod√®les IA recommand√©s pour votre mat√©riel.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="PreferredModel">Mod√®le IA Pr√©f√©r√©:</label>
                    <select is="emby-select" id="PreferredModel" class="emby-select-withcolor emby-select">
                        <option value="auto">S√©lection Auto</option>
                        <option value="srcnn-light">SRCNN Light (12Mo)</option>
                        <option value="real-esrgan">Real-ESRGAN (Professionnel)</option>
                        <option value="esrgan-pro">ESRGAN Pro</option>
                        <option value="swinir">SwinIR (Avanc√©)</option>
                        <option value="waifu2x">Waifu2x (Anime)</option>
                        <option value="hat">HAT (Haute Qualit√©)</option>
                    </select>
                    <div class="fieldDescription">Choisissez votre mod√®le IA pr√©f√©r√© ou laissez le syst√®me choisir selon le type de contenu.</div>
                </div>
            </div>
            
            <div class="verticalSection">
                <h3 class="sectionTitle">üé¨ Interpolation d'Images</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableFrameInterpolation">Activer l'Interpolation d'Images:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableFrameInterpolation" />
                    <div class="fieldDescription">Ajoute des images interm√©diaires pour augmenter la fluidit√©. D√©faut: OFF pour la protection du contenu cin√©ma.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="CinemaProtection">Protection Mode Cin√©ma:</label>
                    <input type="checkbox" is="emby-checkbox" id="CinemaProtection" checked />
                    <div class="fieldDescription">D√©sactive automatiquement l'interpolation pour les films en 24fps afin de pr√©server l'intention du r√©alisateur.</div>
                </div>
            </div>
            
            <div class="verticalSection">
                <h3 class="sectionTitle">üì± Support Mobile</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableMobileSupport">Activer le Support Mobile:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableMobileSupport" checked />
                    <div class="fieldDescription">Active le traitement c√¥t√© serveur pour les appareils mobiles, tablettes et clients √† faible puissance.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="PreUpscaling">Cache de Pr√©-sur√©chantillonnage:</label>
                    <input type="checkbox" is="emby-checkbox" id="PreUpscaling" checked />
                    <div class="fieldDescription">Pr√©-traite le contenu populaire pour une lecture instantan√©e sur mobile.</div>
                </div>
            </div>
            
            <div class="verticalSection">
                <h3 class="sectionTitle">Param√®tres Avanc√©s</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="DebugMode">Mode D√©bogage:</label>
                    <input type="checkbox" is="emby-checkbox" id="DebugMode" />
                    <div class="fieldDescription">Active les logs d√©taill√©s pour le d√©pannage. √Ä n'activer qu'en cas de besoin.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="PerformanceMonitoring">Surveillance des Performances:</label>
                    <input type="checkbox" is="emby-checkbox" id="PerformanceMonitoring" checked />
                    <div class="fieldDescription">Affiche les statistiques de performance en temps r√©el et l'utilisation mat√©rielle.</div>
                </div>
            </div>
            
            <!-- v1.4.0 NEW: Hardware Benchmarking -->
            <div class="verticalSection">
                <h3 class="sectionTitle">üî¨ Benchmarking Mat√©riel (v1.4.0 NEW)</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableAutoBenchmarking">Test Mat√©riel Auto:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableAutoBenchmarking" checked />
                    <div class="fieldDescription">Teste automatiquement votre mat√©riel et optimise les param√®tres pour les meilleures performances.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableAutoFallback">Syst√®me de Repli Intelligent:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableAutoFallback" checked />
                    <div class="fieldDescription">Bascule automatiquement vers des mod√®les plus l√©gers quand le mat√©riel est surcharg√©.</div>
                </div>
                
                <div class="inputContainer">
                    <button is="emby-button" type="button" class="raised" id="RunBenchmarkBtn">
                        <span>üöÄ Lancer le Test Mat√©riel</span>
                    </button>
                    <div class="fieldDescription">Testez votre syst√®me et obtenez des recommandations de param√®tres optimis√©s.</div>
                </div>
            </div>
            
            <!-- v1.4.0 NEW: Pre-Processing Cache -->
            <div class="verticalSection">
                <h3 class="sectionTitle">üíæ Cache de Pr√©-traitement (v1.4.0 NEW)</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnablePreProcessingCache">Activer le Pr√©-traitement:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnablePreProcessingCache" />
                    <div class="fieldDescription">Pr√©-sur√©chantillonne le contenu pendant les temps d'inactivit√© pour une lecture instantan√©e.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="PreProcessCacheSize">Taille du Cache (Mo):</label>
                    <input type="number" is="emby-input" id="PreProcessCacheSize" value="2048" min="512" max="10240" step="512" />
                    <div class="fieldDescription">Quantit√© de stockage √† utiliser pour le contenu pr√©-trait√©.</div>
                </div>
            </div>
            
            <!-- v1.4.0 NEW: Comparison View -->
            <div class="verticalSection">
                <h3 class="sectionTitle">üîç Vue Comparative (v1.4.0 NEW)</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableComparisonView">Activer la Comparaison de Qualit√©:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableComparisonView" checked />
                    <div class="fieldDescription">Affiche un aper√ßu avant/apr√®s pour comparer la qualit√© du sur√©chantillonnage.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="PreviewFrameCount">Images d'Aper√ßu:</label>
                    <select is="emby-select" id="PreviewFrameCount" class="emby-select-withcolor emby-select">
                        <option value="1">1 Image</option>
                        <option value="3" selected>3 Images</option>
                        <option value="5">5 Images</option>
                        <option value="10">10 Images</option>
                    </select>
                    <div class="fieldDescription">Nombre d'images d'aper√ßu √† g√©n√©rer pour la comparaison.</div>
                </div>
            </div>
            
            <!-- v1.4.0 NEW: TV Remote Optimization -->
            <div class="verticalSection">
                <h3 class="sectionTitle">üì∫ Optimisation T√©l√©commande TV (v1.4.0 NEW)</h3>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableTVRemoteNavigation">Support T√©l√©commande TV:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableTVRemoteNavigation" checked />
                    <div class="fieldDescription">Optimise les contr√¥les pour les t√©l√©commandes TV et la navigation directionnelle.</div>
                </div>
                
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="EnableLargeTouchTargets">Grandes Zones Tactiles:</label>
                    <input type="checkbox" is="emby-checkbox" id="EnableLargeTouchTargets" checked />
                    <div class="fieldDescription">Utilise des boutons plus grands pour une meilleure navigation tactile et TV.</div>
                </div>
            </div>
            
            <br />
            <div>
                <button is="emby-button" type="submit" class="raised button-submit block">
                    <span>üíæ Enregistrer les Param√®tres</span>
                </button>
                <button is="emby-button" type="button" class="raised" id="AutoOptimizeBtn" style="margin-top: 10px;">
                    <span>üéØ Auto-Optimiser pour mon Mat√©riel</span>
                </button>
            </div>
            
        </form>
    </div>

    <script type="text/javascript">
        (function () {
            var pluginId = "f87f700e-679d-43e6-9c7c-b3a410dc3f22"; // Updated GUID

            ApiClient.getPluginConfiguration(pluginId).then(function (config) {
                // Load current configuration
                document.querySelector('#EnablePlugin').checked = config.EnablePlugin !== false;
                document.querySelector('#DefaultProfile').value = config.DefaultProfile || 'auto';
                document.querySelector('#ScaleFactor').value = config.ScaleFactor || '2.0';
                document.querySelector('#EnableLightMode').checked = config.EnableLightMode !== false;
                document.querySelector('#ThermalThrottling').checked = config.ThermalThrottling !== false;
                document.querySelector('#BatteryOptimization').checked = config.BatteryOptimization !== false;
                document.querySelector('#AutoModelDownload').checked = config.AutoModelDownload !== false;
                document.querySelector('#PreferredModel').value = config.PreferredModel || 'auto';
                document.querySelector('#EnableFrameInterpolation').checked = config.EnableFrameInterpolation === true;
                document.querySelector('#CinemaProtection').checked = config.CinemaProtection !== false;
                document.querySelector('#EnableMobileSupport').checked = config.EnableMobileSupport !== false;
                document.querySelector('#PreUpscaling').checked = config.PreUpscaling !== false;
                document.querySelector('#DebugMode').checked = config.DebugMode === true;
                document.querySelector('#PerformanceMonitoring').checked = config.PerformanceMonitoring !== false;
                
                // v1.4.0 NEW Settings
                document.querySelector('#EnableAutoBenchmarking').checked = config.EnableAutoBenchmarking !== false;
                document.querySelector('#EnableAutoFallback').checked = config.EnableAutoFallback !== false;
                document.querySelector('#EnablePreProcessingCache').checked = config.EnablePreProcessingCache === true;
                document.querySelector('#PreProcessCacheSize').value = config.PreProcessCacheSizeMB || 2048;
                document.querySelector('#EnableComparisonView').checked = config.EnableComparisonView !== false;
                document.querySelector('#PreviewFrameCount').value = config.PreviewFrameCount || 3;
                document.querySelector('#EnableTVRemoteNavigation').checked = config.EnableTVRemoteNavigation !== false;
                document.querySelector('#EnableLargeTouchTargets').checked = config.EnableLargeTouchTargets !== false;
            });

            document.querySelector('.AIUpscalerConfigForm').addEventListener('submit', function (e) {
                e.preventDefault();

                var config = {
                    EnablePlugin: document.querySelector('#EnablePlugin').checked,
                    DefaultProfile: document.querySelector('#DefaultProfile').value,
                    ScaleFactor: document.querySelector('#ScaleFactor').value,
                    EnableLightMode: document.querySelector('#EnableLightMode').checked,
                    ThermalThrottling: document.querySelector('#ThermalThrottling').checked,
                    BatteryOptimization: document.querySelector('#BatteryOptimization').checked,
                    AutoModelDownload: document.querySelector('#AutoModelDownload').checked,
                    PreferredModel: document.querySelector('#PreferredModel').value,
                    EnableFrameInterpolation: document.querySelector('#EnableFrameInterpolation').checked,
                    CinemaProtection: document.querySelector('#CinemaProtection').checked,
                    EnableMobileSupport: document.querySelector('#EnableMobileSupport').checked,
                    PreUpscaling: document.querySelector('#PreUpscaling').checked,
                    DebugMode: document.querySelector('#DebugMode').checked,
                    PerformanceMonitoring: document.querySelector('#PerformanceMonitoring').checked,
                    
                    // v1.4.0 NEW Settings
                    EnableAutoBenchmarking: document.querySelector('#EnableAutoBenchmarking').checked,
                    EnableAutoFallback: document.querySelector('#EnableAutoFallback').checked,
                    EnablePreProcessingCache: document.querySelector('#EnablePreProcessingCache').checked,
                    PreProcessCacheSizeMB: parseInt(document.querySelector('#PreProcessCacheSize').value),
                    EnableComparisonView: document.querySelector('#EnableComparisonView').checked,
                    PreviewFrameCount: parseInt(document.querySelector('#PreviewFrameCount').value),
                    EnableTVRemoteNavigation: document.querySelector('#EnableTVRemoteNavigation').checked,
                    EnableLargeTouchTargets: document.querySelector('#EnableLargeTouchTargets').checked
                };

                ApiClient.updatePluginConfiguration(pluginId, config).then(function () {
                    Dashboard.processPluginConfigurationUpdateResult();
                    
                    // Show success message
                    require(['toast'], function(toast) {
                        toast('Param√®tres enregistr√©s avec succ√®s !');
                    });
                });
            });
            
            // v1.4.0 NEW: Hardware Benchmark Button
            document.querySelector('#RunBenchmarkBtn').addEventListener('click', function() {
                var btn = this;
                btn.disabled = true;
                btn.innerHTML = '<span>üîÑ Benchmark en cours...</span>';
                
                require(['toast'], function(toast) {
                    toast('D√©marrage du benchmark mat√©riel...');
                });
                
                // Call benchmark API
                ApiClient.ajax({
                    type: 'POST',
                    url: '/api/upscaler/benchmark',
                    dataType: 'json'
                }).then(function(response) {
                    btn.disabled = false;
                    btn.innerHTML = '<span>üöÄ Lancer le Test Mat√©riel</span>';
                    
                    require(['toast'], function(toast) {
                        toast('Benchmark termin√© ! V√©rifiez la console pour les r√©sultats.');
                    });
                    
                    console.log('R√©sultats Benchmark:', response);
                }).catch(function(error) {
                    btn.disabled = false;
                    btn.innerHTML = '<span>üöÄ Lancer le Test Mat√©riel</span>';
                    
                    require(['toast'], function(toast) {
                        toast('√âchec du benchmark: ' + error.message);
                    });
                });
            });
            
            // v1.4.0 NEW: Auto-Optimize Button
            document.querySelector('#AutoOptimizeBtn').addEventListener('click', function() {
                var btn = this;
                btn.disabled = true;
                btn.innerHTML = '<span>üîÑ Optimisation...</span>';
                
                require(['toast'], function(toast) {
                    toast('Obtention des recommandations mat√©rielles...');
                });
                
                // Get recommendations and apply them
                ApiClient.getJSON('/api/upscaler/recommendations').then(function(response) {
                    // Apply recommended settings
                    if (response.recommended.model) {
                        document.querySelector('#PreferredModel').value = response.recommended.model;
                    }
                    if (response.recommended.quality) {
                        document.querySelector('#DefaultProfile').value = response.recommended.quality;
                    }
                    if (response.recommended.enableFallback !== undefined) {
                        document.querySelector('#EnableAutoFallback').checked = response.recommended.enableFallback;
                    }
                    
                    btn.disabled = false;
                    btn.innerHTML = '<span>üéØ Auto-Optimiser pour mon Mat√©riel</span>';
                    
                    require(['toast'], function(toast) {
                        toast('Param√®tres optimis√©s pour votre mat√©riel ! Cliquez sur Enregistrer pour appliquer.');
                    });
                }).catch(function(error) {
                    btn.disabled = false;
                    btn.innerHTML = '<span>üéØ Auto-Optimiser pour mon Mat√©riel</span>';
                    
                    require(['toast'], function(toast) {
                        toast('√âchec de l\'auto-optimisation: ' + error.message);
                    });
                });
            });

            // v1.4.0 NEW: Console Integration
            function initializeConsole() {
                const console = document.querySelector('#liveConsole');
                const consoleInput = document.querySelector('#consoleInput');
                const executeBtn = document.querySelector('#executeCmd');
                const clearBtn = document.querySelector('#clearConsoleBtn');

                function addToConsole(message, color = '#00ff00') {
                    const line = document.createElement('div');
                    line.style.color = color;
                    line.textContent = message;
                    console.appendChild(line);
                    console.scrollTop = console.scrollHeight;
                }

                function executeCommand(command) {
                    const cmd = command.toLowerCase().trim();
                    addToConsole(`> ${command}`, '#ffffff');

                    switch(cmd) {
                        case 'benchmark':
                            addToConsole('D√©marrage du benchmark mat√©riel...');
                            simulateBenchmark();
                            break;
                        case 'optimize':
                            addToConsole('Lancement de l\'auto-optimisation...');
                            setTimeout(() => addToConsole('Optimisation termin√©e !'), 1500);
                            break;
                        case 'status':
                            addToConsole('Statut Plugin: Actif');
                            addToConsole('Version: 1.6.0');
                            addToConsole('Mat√©riel: D√©tect√©');
                            break;
                        case 'help':
                            addToConsole('Commandes disponibles:', '#ffff00');
                            addToConsole('  benchmark - Lancer le test mat√©riel');
                            addToConsole('  optimize  - Auto-optimiser les param√®tres');
                            addToConsole('  status    - Afficher le statut du plugin');
                            addToConsole('  clear     - Effacer la console');
                            addToConsole('  help      - Afficher cette aide');
                            break;
                        case 'clear':
                            console.innerHTML = '<div>Console effac√©e</div>';
                            break;
                        default:
                            addToConsole(`Commande inconnue: ${command}`, '#ff0000');
                            addToConsole('Tapez "help" pour les commandes disponibles');
                    }
                }

                function simulateBenchmark() {
                    const steps = [
                        'D√©tection du mat√©riel syst√®me...',
                        'Test des performances CPU...',
                        'Test des capacit√©s GPU...',
                        'Benchmarking des mod√®les IA...',
                        'Analyse des r√©sultats...',
                        'Benchmark termin√© !'
                    ];
                    
                    steps.forEach((step, index) => {
                        setTimeout(() => {
                            addToConsole(step);
                            if (index === steps.length - 1) {
                                addToConsole('Recommand√©: ESRGAN, √©chelle 2x', '#00ffff');
                            }
                        }, (index + 1) * 1000);
                    });
                }

                // Event handlers
                executeBtn.addEventListener('click', () => {
                    const command = consoleInput.value;
                    if (command) {
                        executeCommand(command);
                        consoleInput.value = '';
                    }
                });

                consoleInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        executeBtn.click();
                    }
                });

                clearBtn.addEventListener('click', () => {
                    console.innerHTML = '<div>Console effac√©e</div>';
                });

                // Initialize with welcome message
                setTimeout(() => {
                    addToConsole('Initialisation syst√®me termin√©e');
                    addToConsole('Tapez "help" pour les commandes disponibles');
                }, 1000);
            }

            // v1.4.0 NEW: Live Status Updates
            function startStatusUpdates() {
                function updateStatus() {
                    // Simulate hardware detection
                    document.querySelector('#cpuStatus').textContent = 'Intel Core i5 (6 coeurs)';
                    document.querySelector('#gpuStatus').textContent = 'NVIDIA GTX 1660 Super';
                    document.querySelector('#perfStatus').textContent = 'Optimal';
                    
                    // Simulate performance metrics
                    document.querySelector('#currentFPS').textContent = (Math.random() * 60 + 30).toFixed(1);
                    document.querySelector('#currentCPU').textContent = (Math.random() * 40 + 20).toFixed(1) + '%';
                    document.querySelector('#currentCache').textContent = (Math.random() * 2 + 1).toFixed(1) + ' Go';
                }

                updateStatus();
                setInterval(updateStatus, 3000);
            }

            // Initialize console and status updates
            setTimeout(() => {
                initializeConsole();
                startStatusUpdates();
            }, 500);

        })();
    </script>
</body>
</html>